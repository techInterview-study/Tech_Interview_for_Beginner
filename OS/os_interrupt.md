# μΈν„°λ½νΈ
## π“ μΈν„°λ½νΈλ€?
μΈν„°λ½νΈλ” μ»΄ν“¨ν„°μ—μ„ μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅κ·Έλ¨μ νλ¦„μ„ μΌμ‹μ μΌλ΅ μ¤‘μ§€μ‹ν‚¤κ³ , νΉμ • μ‘μ—…(ISR)μ„ μν–‰ν• λ’¤ μ›λμ μ‘μ—…μΌλ΅ λμ•„κ°€κ² ν•λ” λ©”μ»¤λ‹μ¦μ΄λ‹¤. μΈν„°λ½νΈλ” λ°μƒμ‹κΈ°λ¥Ό μμΈ΅ν•κΈ° νλ“  κ²½μ°μ— μ»¨νΈλ΅¤λ¬κ°€ κ°€μ¥ λΉ λ¥΄κ² λ€μ‘ν•  μ μλ” λ°©λ²•μ΄λ‹¤.

### π·οΈ μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄(ISR)
ISRμ€ νΉμ • μΈν„°λ½νΈμ— μ‘λ‹µν•μ—¬ μ‹¤ν–‰λλ” ν•¨μλ‚ ν”„λ΅κ·Έλ¨μ΄λ‹¤. ISRμ μ£Όλ μ—­ν• μ€ μΈν„°λ½νΈκ°€ λ°μƒν• μ›μΈμ„ μ²λ¦¬ν•κ³ , ν•„μ”ν• κ²½μ° μ‹μ¤ν…μ΄ μ›λμ μ‘μ—…μΌλ΅ μ•μ „ν•κ² λμ•„κ° μ μλ„λ΅ ν•λ” κ²ƒμ΄λ‹¤.
1. μ£Ό ν”„λ΅κ·Έλ¨ μ‘μ—… μν–‰ μ¤‘ μΈν„°λ½νΈ λ°μƒ
2. μ£Ό ν”„λ΅κ·Έλ¨ μƒνƒ λ μ§€μ¤ν„°μ™€ PC λ“±μ„ μ¤νƒμ— μ μ‹ μ €μ¥(λ‚μ¤‘μ— μ£Ό ν”„λ΅κ·Έλ¨μΌλ΅ λ³µκ·€ν•  λ• λ³µμ›ν•κΈ° μ„ν•¨)
3. ISRλ΅ μΈν„°λ½νΈ μ²λ¦¬
4. λ‹¤μ‹ μ£Ό ν”„λ΅κ·Έλ¨ μ‘μ—… λ³µκ·€

<img src = "./img/os_interrupt_2.png" alt="interrupt_2" width="500">

μΈν„°λ½νΈλ” ν•λ“μ›¨μ–΄ μΈν„°λ½νΈμ™€ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ΅ λ‚λ‰λ‹¤.

### π“ ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ(μ™Έλ¶€ μΈν„°λ½νΈ)
*ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ*λ” μ™Έλ¶€ μ¥μΉ(ν‚¤λ³΄λ“, λ§μ°μ¤, λ””μ¤ν¬ λ“±)μ—μ„ λ°μƒν•λ©° μ£Όλ΅ μ…μ¶λ ¥ μ‘μ—…μ μ‹μ‘μ΄λ‚ μ™„λ£λ¥Ό μ•λ¦¬λ” λ° μ‚¬μ©λλ‹¤. CPUμ ν•λ“μ›¨μ–΄ μ‹ νΈμ— μν•΄ λ°μƒν•λ‹¤. μλ¥Ό λ“¤μ–΄ ν‚¤λ³΄λ“ ν‚¤κ°€ λλ Έμ„ λ• CPUμ— μ•λ¦¬κΈ° μ„ν•΄ ν•λ“μ›¨μ–΄ μΈν„°λ½νΈκ°€ λ°μƒν•λ‹¤. μ…μ¶λ ¥ μ¥μΉ, νƒ€μ΄λ° μ¥μΉ, μ „μ› λ“± μ™Έλ¶€μ μΈ μ”μΈμΌλ΅ λ°μƒν•λ‹¤.





### π“ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ(λ‚΄λ¶€ μΈν„°λ½νΈ)
*μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ*λ” ν”„λ΅κ·Έλ¨μ μ‹¤ν–‰ λ„μ¤‘μ— μ†ν”„νΈμ›¨μ–΄μ— μν•΄ μλ„μ μΌλ΅ λ°μƒν•λ‹¤. μλ¥Ό λ“¤μ–΄, μ΄μ μ²΄μ λ” ν”„λ΅κ·Έλ¨μ΄ μ‹μ¤ν… νΈμ¶μ„ ν•  λ• μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ¥Ό μ‚¬μ©ν•μ—¬ ν•΄λ‹Ή νΈμ¶μ„ μ²λ¦¬ν•λ‹¤. Trapμ΄λΌκ³  λ¶€λ¥΄λ©° μλ»λ λ…λ Ήμ΄λ‚ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•  λ• λ°μƒν•λ‹¤. μλ¥Ό λ“¤μ–΄ 0μΌλ΅ λ‚λ„κ±°λ‚ μ¤λ²„ν”λ΅μ°, λ…λ Ήμ–΄λ¥Ό μλ» μ‚¬μ©ν• κ²½μ° λ‚΄λ¶€ μΈν„°λ½νΈκ°€ λ°μƒν•λ‹¤.


### π·οΈ ν΄λ§κ³Ό μΈν„°λ½νΈ μ°¨μ΄
μΈν„°λ½νΈμ™€ ν΄λ§ λ°©μ‹μ€ μ™Έλ¶€ μ¥μΉλ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό λ°›κ±°λ‚ μ¥μΉμ μƒνƒλ¥Ό ν™•μΈν•λ” λ‘ κ°€μ§€ μ£Όμ” κΈ°λ²•μ΄λ‹¤.

    μΈν„°λ½νΈ λ°©μ‹ :

    1. ν•λ“μ›¨μ–΄ μ¥μΉκ°€ νΉμ • μ‚¬κ±΄μ΄ λ°μƒν–μ„ λ• CPUμ— μ•λ¦°λ‹¤.
    2. CPUλ” ν„μ¬ μν–‰ μ¤‘μΈ μ‘μ—…μ„ μΌμ‹ μ¤‘λ‹¨ν•κ³  ν•΄λ‹Ή μ‚¬κ±΄μ„ μ²λ¦¬ν•κΈ° μ„ν•΄ ISRμ„ μ‹¤ν•­ν•λ‹¤.
    3. μ²λ¦¬κ°€ μ™„λ£λ ν›„, CPUλ” μ›λμ μ‘μ—…μΌλ΅ λμ•„κ°„λ‹¤.

    -> μΈν„°λ½νΈλ” CPUκ°€ λ‹¤λ¥Έ μ‘μ—…μ„ μν–‰ν•λ” λ™μ•μ—λ„ μ™Έλ¶€ μ‚¬κ±΄μ— μ¦‰κ°μ μΌλ΅ λ°μ‘ν•  μ μκ² ν•΄μ¤€λ‹¤.

    ν΄λ§ λ°©μ‹ : 

    CPUκ°€ μ •κΈ°μ μΌλ΅ ν•λ“μ›¨μ–΄ μ¥μΉμ μƒνƒλ¥Ό μ²΄ν¬(ν΄λ§)ν•μ—¬ νΉμ • μ΅°κ±΄μ΄ μ¶©μ΅±λμ—λ”μ§€λ¥Ό ν™•μΈν•λ‹¤. μ΄λ” CPUκ°€ μ§€μ†μ μΌλ΅ μ¥μΉμ μƒνƒλ¥Ό ν™•μΈν•΄μ•Ό ν•λ―€λ΅ CPU μμ›μ„ λΉ„ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤. μ΄ λ°©μ‹μ€ λ²„μ¤, λ©€ν‹°ν¬μΈνΈ ν•νƒμ™€ κ°™μ΄ μ—¬λ¬ κ°μ μ¥μΉκ°€ λ™μΌ νμ„ μ„ μ‚¬μ©ν•λ” μƒν™©μ—μ„ μ£Όλ΅ μ‚¬μ©λλ‹¤.


<img src = "./img/os_interrupt_1.png" alt="interrupt_1" width="500">

### π“ μ΄μ¤‘ λ™μ‘ λ¨λ“
μ‚¬μ©μμ™€ OSλ” μ‹μ¤ν… μμ›μ„ κ³µμ ν•λ‹¤. μ΄ λ• μ‚¬μ©μμ—κ² μ ν•μ„ λ‘μ§€ μ•λ”λ‹¤λ©΄ μ‚¬μ©μκ°€ λ©”λ¨λ¦¬ λ‚΄ μ£Όμ” λ¦¬μ†μ¤λ¥Ό μ†μƒμ‹ν‚¬ κ°€λ¥μ„±μ΄ μ΅΄μ¬ν•λ‹¤. κ·Έλ ‡κΈ° λ•λ¬Έμ— μ‚¬μ©μμ μ‹μ¤ν… μμ›μ„ λ§‰λ” λ³΄νΈ μ¥μΉκ°€ ν•„μ”ν•λ‹¤. μ΄λ¥Ό μ„ν• κ²ƒμ΄ μ΄μ¤‘ λ™μ‘ λ¨λ“μ΄λ‹¤.

μ΄μ¤‘ λ™μ‘ λ¨λ“λ” OSκ°€ μ‚¬μ©μ λ¨λ“μ™€ μ»¤λ„ λ¨λ“, λ‘ κ°€μ§€ λ¨λ“λ΅ μ‘λ™ν•λ” λ°©μ‹μ΄λ‹¤. μ»¤λ„ λ¨λ“μ™€ μ‚¬μ©μ λ¨λ“λ¥Ό κµ¬λ¶„ν•κΈ° μ„ν•΄μ„ mode bitμ΄ μ‚¬μ©λλ‹¤. 0μ΄ μ»¤λ„ λ¨λ“, 1μ΄ μ‚¬μ©μ λ¨λ“μ΄λ‹¤. OSλ” μΌλ¶€ λ…λ Ήλ“¤μ„ νΉκ¶ λ…λ ΉμΌλ΅ μ§€μ •ν•κ³  μ»¤λ„ λ¨λ“μ—μ„λ§ μ‹¤ν–‰λκ² ν•λ©° μ‚¬μ©μ λ¨λ“μ—μ„ μ‹¤ν–‰ν•λ ¤κ³  ν•λ©΄ Trapμ„ κ±΄λ‹¤.


μ΄μ¤‘ λ™μ‘ λ¨λ“μ ν”„λ΅μ„Έμ¤λ¥Ό μ‚΄ν΄λ³΄μ.

1. ν”„λ΅μ„Έμ¤λ” κΈ°λ³Έμ μΌλ΅ μ‚¬μ©μ λ¨λ“μ—μ„ μ‹¤ν–‰λλ‹¤. μ΄λ” μ ν•λ κ¶ν• ν•μ—μ„ μ‹¤ν–‰λλ” κ²ƒμ΄λ©° μ§μ ‘μ μΌλ΅ ν•λ“μ›¨μ–΄ μμ›μ— μ ‘κ·Όν•  μ μ—†λ‹¤.
2. μ‹μ¤ν… μ½μ΄ λ°μƒν•κ² λλ©΄ ν”„λ΅κ·Έλ¨μ΄ ν”„λ΅κ·Έλ¨μ΄ νμΌ μ ‘κ·Ό, λ„¤νΈμ›ν¬ ν†µμ‹  λ“±κ³Ό κ°™μ€ μ‹μ¤ν… μμ›μ΄ ν•„μ”ν• μ‘μ—…μ„ μ”μ²­ν•  λ•, μ‹μ¤ν… μ½μ„ ν†µν•΄ μ»¤λ„μ—κ² μ‘μ—… μ‹¤ν–‰μ„ μ”μ²­ν•λ‹¤. μ΄ λ• ν”„λ΅μ„Έμ¤λ” μ‚¬μ©μ λ¨λ“μ—μ„ μ»¤λ„ λ¨λ“λ΅ μ „ν™λλ‹¤.
3. ν”„λ΅μ„Έμ¤κ°€ μ»¤λ„ λ¨λ“λ΅ μ „ν™λλ©΄, μ»¤λ„μ€ μ”μ²­λ μ‹μ¤ν… μ½μ— λ”°λ¥Έ μ‘μ—…μ„ μν–‰ν•λ‹¤. μ΄ λ• μ»¤λ„μ€ λ¨λ“  ν•λ“μ›¨μ–΄ μμ›μ— μ ‘κ·Όν•  μ μλ” κ¶ν•μ„ κ°€μ§€κ³  μμΌλ―€λ΅ ν•„μ”ν• μ‹μ¤ν… μμ›μ„ μ μ–΄ν•κ±°λ‚ λ°μ΄ν„Έλ¥΄ μ²λ¦¬ν•  μ μλ‹¤.
4. μ»¤λ„μ΄ μ”μ²­λ μ‘μ—…μ„ μ™„λ£ν•λ©΄ ν”„λ΅μ„Έμ¤λ” λ‹¤μ‹ μ‚¬μ©μ λ¨λ“λ΅ μ „ν™λλ‹¤.

π·οΈ μ‹μ¤ν… μ½μ΄λ€?

μ‹μ¤ν… μ½μ€ μ‚¬μ©μ λ¨λ“μ—μ„ μ‹¤ν–‰λλ” ν”„λ΅κ·Έλ¨μ΄ μ΄μ μ²΄μ μ μ»¤λ„ κΈ°λ¥μ„ μ‚¬μ©ν•κΈ° μ„ν•΄ μ»¤λ„μ—κ² μ”μ²­μ„ λ³΄λ‚΄λ” λ©”μ»¤λ‹μ¦μ΄λ‹¤. μλ¥Ό λ“¤μ–΄, νμΌ μ½κΈ°, μ“°κΈ°, λ„¤νΈμ›ν¬ ν†µμ‹ , ν”„λ΅μ„Έμ¤ μƒμ„± λ° μΆ…λ£μ™€ κ°™μ€ μ‘μ—…μ„ μν–‰ν•λ ¤ ν•  λ• μ‹μ¤ν… μ½μ΄ μ‚¬μ©λλ‹¤. μ΄μμ²΄μ  μ„λΉ„μ¤λ¥Ό μ ‘κ·Όν•κΈ° μ„ν• μ μΌν• μλ‹¨μ΄λ©° ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•κ±°λ‚ ν”„λ΅κ·Έλ¨μ΄ μ»΄ν“¨ν„° μμ›μ„ μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” μ‹μ¤ν… μ½μ„ ν†µν•΄ μ»¤λ„μ— μμ› μ‚¬μ©μ„ μ”μ²­μ„ ν•΄μ•Ό ν•λ‹¤.

π·οΈ μΈν„°λ½νΈ λ²΅ν„°λ€?

μΈν„°λ½νΈ λ²΅ν„°λ” μΈν„°λ½νΈκ°€ λ°μƒν–μ„ λ•, κ·Έ μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•  μ μλ” μ„λΉ„μ¤ λ£¨ν‹΄λ“¤μ μ£Όμ†λ¥Ό κ°€μ§€κ³  μλ” κ³µκ°„μ΄λ‹¤. μΈν„°λ½νΈλ” νΉμ • μ‘μ—…μ„ μν–‰ν•κΈ° μ„ν•΄ ISRμ μ‹¤ν–‰μ„ μ”κµ¬ν•λ‹¤. μΈν„°λ½νΈ λ²΅ν„°λ” μ΄λ¬ν• ISRμ μ‹μ‘ μ£Όμ†λ¥Ό κ°€λ¦¬ν‚¤λ” μ—­ν• μ„ ν•κ³  μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄ μ‹μ¤ν…μ€ μΈν„°λ½νΈ λ²΅ν„°λ¥Ό μ°Έμ΅°ν•΄μ„ ν•΄λ‹Ή μΈν„°λ½νΈμ— λ€μ‘ν•λ” μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ‹¤.

- μ»¤λ„ λ¨λ“

μ»¤λ„ λ¨λ“μ—μ„λ” OSμ ν•µμ‹¬ λ¶€λ¶„μΈ μ»¤λ„μ΄ μ‹¤ν–‰λλ‹¤. μ»¤λ„μ€ μ‹μ¤ν…μ λ¨λ“  ν•λ“μ›¨μ–΄μ™€ μ§μ ‘μ μΌλ΅ μƒνΈ μ‘μ©ν•  μ μλ” κ¶ν•μ„ κ°€μ§€κ³  μμΌλ©° μ‚¬μ©μκ°€ μ ‘κ·Όν•  μ μ—†λ‹¤. μ»¤λ„ λ¨λ“λ” supervisor mode, system mode, privileged modeλΌκ³ λ„ λ¶€λ¥Έλ‹¤.

- μ‚¬μ©μ λ¨λ“

μ‚¬μ©μκ°€ μ ‘κ·Όν•  μ μλ” λ¨λ“μ΄λ‹¤. 


# μ¶μ²
- [https://velog.io/@adam2/μΈν„°λ½νΈ](https://velog.io/@adam2/%EC%9D%B8%ED%84%B0%EB%9F%BD%ED%8A%B8)

- https://latter2005.tistory.com/43

- [https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer Science/Operating System/Interrupt.md](https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Operating%20System/Interrupt.md)